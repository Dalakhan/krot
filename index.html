<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<style type="text/css">
		.prop {
			position: absolute;
			height: 100px;
			width: 600px;
			background-image: url(1.png);
			background-size: 100% 150%;
		}
		.mole {
			height: 100px;
			width: 100px;
			position: absolute;
		}
	</style>
</head>
<body>

<!-- дивы норы чтобы появится -->
<!-- <div class="bg-success prop" style="top: 50px; left: 500px; width: 50px;"></div>
<div class="bg-success prop" style="top: 50px; left: 700px; width: 50px;"></div> -->
<h1>Счет твой: <span class="score">0</span></h1>
<button class="btn">Начать играть</button>
<h1 class="timerS"></h1>
<div class=" prop nore" style="top: 100px; left: 500px;"></div>
<!-- <div class=" prop nore" style="top: 100px; left: 700px"></div>
<div class=" prop nore" style="top: 100px; left: 900px"></div> -->
<div class=" prop nore" style="top: 300px; left: 500px;"></div>
<!-- <div class=" prop nore" style="top: 300px; left: 700px;"></div>
<div class=" prop nore" style="top: 300px; left: 900px;"></div> -->
<div class=" prop nore" style="top: 500px; left: 500px;"></div>
<!-- <div class=" prop nore" style="top: 500px; left: 700px;"></div>
<div class=" prop nore" style="top: 500px; left: 900px;"></div> -->

<script type="text/javascript">
	let score = document.querySelector(".score")
	let score1 = 0;
    let btn = document.querySelector(".btn")
    let timerS = document.querySelector('.timerS')
    let nore = document.querySelector('.nore') // не нужно пихать его в функцию
    let prop = document.querySelector('.prop')
    let timer = 20000
	let posLeft = [500, 700, 900]
	let posTop = [100, 300, 500]
	let name = ["good", "bad"]
    let getRandom = function(arg) {
        let random = Math.random() * arg;
        let round = Math.round(random)
        return round
    }
	    let fTime = function() {
	        timer = timer - 1000
	        timerS.innerHTML = timer/1000
	        if (timer<=0) {
	            timerS.style.display = "none"
	        }
	   	}
	    let krot = function() {
	    	let box = document.createElement('div');
		    prop.appendChild(box);
		    box.classList.add("mole");
		    nore.before(box);
		    box.style.backgroundImage = "url(Imp.webp)"
		    box.style.backgroundSize = "100%"
		    box.style.transition = "1s"
		    box.style.top = posTop[getRandom(2)] + "px";
		    box.style.left = posLeft[getRandom(2)] + "px";
		    box.name = name[getRandom(1)]
		
		    if (box.name=="good") {
		    	box.style.backgroundImage = "url(Wisp.webp)"
		    	
		    } else {
		    	box.style.backgroundImage = "url(Imp.webp)"
		    }
			let show = function() {
				if (box.style.top=="100px") {
					box.style.top = "50px"
				}
				if (box.style.top=="300px") {
					box.style.top = "250px"
				}
				if (box.style.top=="500px") {
					box.style.top = "450px"
				}
			}
			setTimeout(show, 1000);
			
			let back = function() {
				if (box.style.top=="50px") {
					box.style.top = "100px"
				}
				if (box.style.top=="250px") {
					box.style.top = "300px"
				}
				if (box.style.top=="450px") {
					box.style.top = "500px"
				}
			}
			setTimeout(back, 2000);
		
			box.onclick = function() {
				box.onclick = null;
				if (box.name=="good") {
					score1 = score1 + 1 
					score.innerHTML = score1
				} else {
					score1 = score1 - 1 
					score.innerHTML = score1
				}
				
			}
		}
		let stopGame = function() {
		    	if (score1>=8) {
		    		alert('победа')
		    	}else {
		    		alert('проигрыш')
		    	}
	    		 
	    }
		btn.onclick = function() { 
			setInterval(fTime, 1000) 
			setTimeout(stopGame, timer)
			setInterval(krot, 1000)
		}
		
    /*

	массив позиция лефт = [500, 700, 900]
	массив имя = ["хороший", "плохой"]
	
	функция создатель кротов = {
		создаем див-кроту
		пишем параметры
		транзишн
		указываем где появится before
		повялвяется в пропе
	    див-крот топ = 100
	    див-крот лефт = позиция лефт[рандомайзер(2)]
	    див-крот имя = имя[рандомайзер(1)]

		если(див-крот имя==хороший) {
			зеленый
		} else {
			red
		}

		функция показать = {
			див-крот топ = 50
		}
		таймаут(показать, 1000)

		функция скрыть = {
			див-крот топ = 100	
		}
		таймаут(скрыть, 2000)
	
		нажатие = {
			если хороший {
				очки плюс
			} else {
				очки минус
			}
		}
	}

	интервал(создатель кротов, 1000)

    */

</script>
</body>
</html>